// Generated by CoffeeScript 1.6.2
define(function(require) {
  return describe("regexp tests", function() {
    return it("does match", function() {
      var mainMatch, match, matches, param, params, paramsPattern, results, source, _i, _len;

      paramsPattern = /\s*?params\s*?=\s*?(\[(.|[\r\n])*?\])/g;
      source = "params = [{\n    name: 'width', \n    type: 'float', \n    default: 10,\n    caption: \"Width of the cube:\"\n  }\n  ]    \ntoto = 25";
      source = "    params = [\n{\n    name: 'width', \n    type: 'float', \n    default: 10,\n    caption: \"Width of the cube:\", \n  }\n  ]";
      matches = [];
      match = paramsPattern.exec(source);
      while (match) {
        matches.push(match);
        match = paramsPattern.exec(source);
      }
      console.log("params ", matches);
      mainMatch = matches[0][0].replace("=", ":");
      params = eval(mainMatch);
      console.log("mainMatch ", params);
      results = {};
      for (_i = 0, _len = params.length; _i < _len; _i++) {
        param = params[_i];
        results[param.name] = param["default"];
      }
      console.log(results);
      console.log(source);
      source = source.replace(matches[0][1], JSON.stringify(results));
      return console.log(source);
    });
  });
});
